# vulnserver

## Installing Vulnserver, OllyDbg and Peach

Vulnserver:

- Download Vulnserver from https://github.com/stephenbradshaw/vulnserver


Ollydbg:

- Download OllyDbg from http://www.ollydbg.de/odbg110.zip


Peach:

- Download and install .NET 4 from https://www.microsoft.com/en-us/download/details.aspx?id=17851

- Download and install Windows SDK from https://www.microsoft.com/en-us/download/details.aspx?id=8279

- Download Peach from https://sourceforge.net/projects/peachfuzz/



## Fuzzing with Peach


Start Peach 

```
C:\> peach.exe -a tcp
```

![Screenshot](pictures/Screenshot_1.png)

Run the "vulnserver.xml" Peach file and test the command you want:

```
C:\> peach.exe vulnserver.xml TestKSTET
```

![Screenshot](pictures/Screenshot_2.png)


## Fuzzing with Boofuzz

Install with pip (or read the [docs](https://buildmedia.readthedocs.org/media/pdf/boofuzz/latest/boofuzz.pdf)):

```
pip install boofuzz
```

Run the "vulnserver_boofuzz.py" Boofuzz file and test the command you want:
```
python vulnserver_boofuzz.py 192.168.112.145 9999 TRUN
```


## Exploits

GTER

- Egghunter

- Socket reuse


KSTET

- Egghunter

- Scoket reuse 


## References (highly recommended to read!)

Fuzzing with Peach:

http://www.rockfishsec.com/2014/01/fuzzing-vulnserver-with-peach-3.html

https://sh3llc0d3r.com/fuzzing-vulnserver-with-peach/

KSTET Socket reuse

https://deceiveyour.team/2018/10/15/vulnserver-kstet-ws2_32-recv-function-re-use/

https://rastating.github.io/using-socket-reuse-to-exploit-vulnserver/

GTER Socket reuse

https://www.absolomb.com/2018-07-24-VulnServer-GTER/
